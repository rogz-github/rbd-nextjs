generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              Int       @id @default(autoincrement())
  firstName       String
  lastName        String
  username        String    @unique
  email           String    @unique
  emailVerifiedAt DateTime?
  password        String
  rememberToken   String?
  image           String?
  role            Role      @default(USER)
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}

model Product {
  spuNo             String   @map("spu_no")
  itemNo            String?  @unique @map("item_no")
  slug              String   @unique
  fullCategory      String   @map("full_category")
  category1         String   @map("category_1")
  category2         String?  @map("category_2")
  category3         String?  @map("category_3")
  category4         String?  @map("category_4")
  name              String
  supplier          String?
  brand             String?
  vt1               String?  @map("vt1")
  vv1               String?  @map("vv1")
  vt2               String?  @map("vt2")
  vv2               String?  @map("vv2")
  sku               String?  @unique
  msrp              Decimal? @db.Decimal(10, 2)
  salePrice         Decimal? @map("sale_price") @db.Decimal(10, 2)
  discountedPrice   Decimal? @map("discounted_price") @db.Decimal(10, 2)
  dropshippingPrice Decimal? @map("dropshipping_price") @db.Decimal(10, 2)
  map               String?
  inventory         String   @default("0")
  inventoryLoc      String?  @map("inventory_loc")
  shippingMethod    String?  @map("shipping_method")
  shipTo            String?  @map("ship_to")
  shippingCost      String   @default("0") @map("shipping_cost")
  promotionStart    String?  @map("promotion_start")
  promotionEnd      String?  @map("promotion_end")
  mainImage         String   @map("main_image")
  images            Json?
  description       String?
  shortDescription  String?  @map("short_description")
  upc               String?
  asin              String?
  processingTime    String?  @map("processing_time")
  ean               String?
  dsFrom            String?  @map("ds_from")
  dealId            String?  @map("deal_id")
  status            String   @default("active")
  metaTitle         String?  @map("meta_title")
  metaDescription   String?  @map("meta_description")
  metaKeywords      String?  @map("meta_keywords")
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  id                Int      @id @default(autoincrement())
  cartItems         Cart[]

  @@index([spuNo])
  @@index([itemNo])
  @@index([slug])
  @@index([fullCategory])
  @@index([category1])
  @@index([category2])
  @@index([category3])
  @@index([category4])
  @@index([name])
  @@index([supplier])
  @@index([brand])
  @@index([vt1])
  @@index([vv1])
  @@index([vt2])
  @@index([vv2])
  @@index([sku])
  @@index([salePrice])
  @@index([discountedPrice])
  @@index([dropshippingPrice])
  @@index([map])
  @@index([dsFrom])
  @@index([status])
}

model Cart {
  id           Int      @id @default(autoincrement())
  userType     String   @default("guest") @map("user_type")
  userId       Int      @map("user_id")
  prodQuantity Int      @map("prod_quantity")
  status       String   @default("active")
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  prodId       Int      @map("prod_id")
  product      Product  @relation(fields: [prodId], references: [id])

  @@index([userId])
  @@index([prodId])
  @@index([status])
}

model Order {
  coId                Int      @id @default(autoincrement()) @map("co_id")
  coOrderId           String   @map("co_order_id") @db.VarChar(1000)
  coUserId            Int      @map("co_user_id")
  coType              String   @map("co_type") @db.VarChar(1000)
  coNotes             String   @map("co_notes")
  coSubtotal          Decimal  @map("co_subtotal") @db.Decimal(10, 2)
  coTotalDiscount     Decimal  @map("co_total_discount") @db.Decimal(10, 2)
  coTotalPrice        Decimal  @map("co_total_price") @db.Decimal(10, 2)
  coPaymentType       String   @map("co_payment_type") @db.VarChar(1000)
  coStatus            String   @default("Pending") @map("co_status") @db.VarChar(1000)
  coPendingDate       String?  @map("co_pending_date") @db.VarChar(1000)
  coProcessingDate    String?  @map("co_processing_date") @db.VarChar(1000)
  coDeliveredDate     String?  @map("co_delivered_date") @db.VarChar(1000)
  coCancelledDate     String?  @map("co_cancelled_date") @db.VarChar(1000)
  coCreated           String   @map("co_created") @db.VarChar(1000)
  coStyle             String   @default("new") @map("co_style") @db.VarChar(5)
  coCoupoUsed         String?  @map("co_coupo_used") @db.VarChar(55)
  coCouponDiscount    String?  @map("co_coupon_discount") @db.VarChar(55)
  coUpdatedStatusTo   String?  @map("co_updated_status_to") @db.VarChar(100)
  coUpdatedStatusDate String?  @map("co_updated_status_date") @db.VarChar(100)
  orderItems          String   @default("[]") @map("order_items")
  shippingAddress     String   @default("{}") @map("shipping_address")
  billingAddress      String   @default("{}") @map("billing_address")
  totalItems          Int      @default(0) @map("total_items")
  paypalResponse      String?  @map("paypal_response")
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt

  @@index([coOrderId])
  @@index([coUserId])
  @@index([coStatus])
}

model Banner {
  id          Int        @id @default(autoincrement())
  title       String
  description String?
  imageUrl    String?    @map("image_url")
  videoUrl    String?    @map("video_url")
  link        String?
  type        BannerType @default(IMAGE)
  position    Int        @default(0)
  isActive    Boolean    @default(true) @map("is_active")
  startDate   DateTime?  @map("start_date")
  endDate     DateTime?  @map("end_date")
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  @@index([isActive])
  @@index([position])
  @@index([type])
}

model BannerBottomImages {
  id      Int      @id @default(autoincrement())
  bgColor String?  @map("bg_color")
  linkUrl String?  @map("link_url")
  image   String?
  status  String   @default("active")
  created DateTime @default(now())

  @@map("banner_bottom_images")
}

model DisplayedItems {
  id       Int      @id @default(autoincrement())
  category String
  items    Json
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("displayed_items")
}

model CategoryOne {
  pcstId          Int      @id @default(autoincrement()) @map("pcst_id")
  pcstImg         String   @default("no_image_400.webp") @map("pcst_img") @db.VarChar(300)
  pcstSlug        String   @map("pcst_slug") @db.VarChar(2000)
  pcstCat         String   @map("pcst_cat") @db.VarChar(2000)
  totalProduct    Int      @map("total_product")
  pcstPosition    Int      @map("pcst_position")
  banner          String?  @db.VarChar(255)
  imageVector     String   @map("image_vector") @db.VarChar(255)
  cat2Lists       String   @default("[]") @map("cat2_lists") @db.Text
  displayedItems  String   @default("[]") @map("displayed_items") @db.Text
  seoTitle        String   @map("seoTitle") @db.VarChar(100)
  seoDesc         String   @map("seoDesc") @db.VarChar(255)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@index([pcstSlug])
  @@index([pcstCat])
  @@index([totalProduct])
  @@index([pcstPosition])
  @@map("category_one")
}

model CategoryTwo {
  psstId          Int      @id @default(autoincrement()) @map("psst_id")
  psstImg         String   @default("no_image_400.webp") @map("psst_img") @db.VarChar(300)
  psstPcstCat      String   @map("psst_pcst_cat") @db.VarChar(1000)
  psstSlug        String   @map("psst_slug") @db.VarChar(2000)
  psstSubcat       String   @map("psst_subcat") @db.VarChar(2000)
  psstTotalProduct Int     @default(0) @map("psst_total_product")
  psstProdHighprice String @default("0.00") @map("psst_prod_highprice") @db.VarChar(1000)
  psstPosition    Int      @map("psst_position")
  cat1Slug        String   @map("cat1_slug") @db.VarChar(255)
  totalInstock    Int      @default(0) @map("total_instock")
  totalOutstock   Int      @default(0) @map("total_outstock")
  totalCat3       Int      @default(0) @map("total_cat3")
  toShow          Int      @default(1) @map("toShow")
  seoTitle        String   @map("seoTitle") @db.VarChar(100)
  seoDesc         String   @map("seoDesc") @db.VarChar(200)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@index([psstPcstCat])
  @@index([psstSlug])
  @@index([psstSubcat])
  @@index([psstTotalProduct])
  @@index([psstPosition])
  @@index([cat1Slug])
  @@index([totalInstock])
  @@index([totalOutstock])
  @@index([totalCat3])
  @@index([toShow])
  @@map("category_two")
}

model CategoryThree {
  pssstId          Int      @id @default(autoincrement()) @map("pssst_id")
  pssstImg         String   @default("") @map("pssst_img") @db.VarChar(300)
  pssstCat         String   @map("pssst_cat") @db.VarChar(200)
  pssstSubcat      String   @map("pssst_subcat") @db.VarChar(200)
  pssstSubsubcat   String   @map("pssst_subsubcat") @db.VarChar(200)
  pssstSlug        String   @map("pssst_slug") @db.VarChar(200)
  pssstTotalProduct Int     @default(0) @map("pssst_total_product")
  pssstHighprice   String   @default("") @map("pssst_highprice") @db.VarChar(200)
  pssstPosition    Int      @map("pssst_position")
  cat1Slug         String   @map("cat1_slug") @db.VarChar(255)
  cat2Slug         String   @map("cat2_slug") @db.VarChar(255)
  totalInstock     Int      @default(0) @map("total_instock")
  totalOutstock    Int      @default(0) @map("total_outstock")
  cat4Slug         String   @map("cat4_slug") @db.VarChar(100)
  cat2TotalInstock Int      @default(0) @map("cat2_total_instock")
  seoTitle         String   @map("seoTitle") @db.VarChar(100)
  seoDesc          String   @map("seoDesc") @db.VarChar(200)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@index([pssstCat])
  @@index([pssstSubcat])
  @@index([pssstSubsubcat])
  @@index([pssstSlug])
  @@index([pssstTotalProduct])
  @@index([cat1Slug])
  @@index([cat2Slug])
  @@map("category_three")
}

model CategoryFour {
  psssstId           Int      @id @default(autoincrement()) @map("psssst_id")
  psssstImg          String   @default("") @map("psssst_img") @db.VarChar(200)
  psssstCat          String   @map("psssst_cat") @db.VarChar(100)
  psssstSubcat       String   @map("psssst_subcat") @db.VarChar(100)
  psssstSubsubcat    String   @map("psssst_subsubcat") @db.VarChar(100)
  psssstSubsubsubcat String   @map("psssst_subsubsubcat") @db.VarChar(100)
  psssstSlug         String   @map("psssst_slug") @db.VarChar(100)
  psssstTotalProduct Int      @default(0) @map("psssst_total_product")
  psssstHighprice    Decimal  @default(0.00) @map("psssst_highprice") @db.Decimal(11, 2)
  psssstPosition     Int      @map("psssst_position")
  cat1Slug           String   @map("cat1_slug") @db.VarChar(255)
  cat2Slug           String   @map("cat2_slug") @db.VarChar(255)
  cat3Slug           String   @map("cat3_slug") @db.VarChar(255)
  totalInstock       Int      @default(0) @map("total_instock")
  totalOutstock      Int      @default(0) @map("total_outstock")
  seoTitle           String   @map("seoTitle") @db.VarChar(100)
  seoDesc            String   @map("seoDesc") @db.VarChar(200)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  @@index([psssstCat])
  @@index([psssstSubsubsubcat])
  @@index([psssstSlug])
  @@index([psssstTotalProduct])
  @@index([cat1Slug])
  @@index([cat2Slug])
  @@index([cat3Slug])
  @@map("category_four")
}

enum Role {
  USER
  ADMIN
  SUPER_ADMIN
}

enum BannerType {
  IMAGE
  VIDEO
}

model SiteSettings {
  id          Int      @id @default(autoincrement())
  key         String   @unique
  value       String   @db.Text
  location    String   @default("body") @db.VarChar(20) // 'head' or 'body'
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("site_settings")
}
